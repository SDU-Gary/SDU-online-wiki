---
title: 系统安全期末复习
description: 
published: true
date: 2024-01-21T17:39:49.998Z
tags: 
editor: markdown
dateCreated: 2024-01-21T17:39:49.998Z
---


linux中命令与文件：

1./etc/passwd

2./etc/shadow





加密相关

9.bitlocker

14.cryptoAPI

22.EFS

25.GnuPG

33.JCE

35. keytool



工具：

29.ida pro

38.ollydbg



命令：





# 名词解释

## 1. /etc/passwd

passwd文件中保存了用户的UID，GID用户名，主目录，登录shell等**公共信息**，通常是可读的。

过去密码保存在这个文件里，但是现在已经被迁移到/etc/shadow中，并设置适当的权限，确保只有合适的用户和超级用户可以访问。

包含的条目如下（不重要）

- 用户名
- 密码占位符：以前用于保存密码，现在密码迁移到shadow中，这里通常用*或者X表示
- 用户ID(UID)
- 组ID(GID)
- 用户信息
- 主目录
- 登录shell

## 2. /etc/shadow

shadow文件保存了用户的加密密码和其他密码相关的信息。这个文件的权限控制非常严格，只有特权用户才能修改和访问它。

包含的条目（不重要）

- 用户名
- 加密密码（hash单向加密）
- 密码过期提醒天数，在密码过期前几天进行提醒。
- 密码过期后的宽限天数，密码过期后多久用户仍然可以用旧密码登录。
- 密码失效时间
- 用户失效时间
- 保留字段。



## 3. ~/.ssh/authorized_keys

在远程主机上，存储被信任的公钥。这样连接主机的时候只需要提供私钥就可以了， 远程主机会检查公私钥是否配对。

然后解释以下公钥是啥就行。

>总结来说，`~/.ssh/authorized_keys` 文件用于存储允许通过公钥身份验证连接到远程服务器的授权公钥列表。它提供了更安全的身份验证方式，并简化了登录过程，特别是在自动化脚本和远程管理中使用。

## 4. ~/.ssh/known_hosts

在本地主机上，记录了远程主机的公钥。为了防止**中间人攻击**。当本地主机需要连接一个远程主机时，会检查远程主机提供的公钥是否在本地的know_hosts中，如果在，那么就可以信任远程主机。如果不在，就会提示用户进行确认。每当连接到一个新的主机时就会在这个文件中添加一个新的条目。

每个条目保存了主机名(IP) 和公钥。



使用 `ssh-keygen -t rsa`可以生成一个基于rsa的公私钥对，然后将公钥复制到远程服务器的ssh文件夹中，这样会在远程服务器的authorized_keys文件中添加上此公钥，之后登录远程服务器的时候只要通过`-i`选项添加私钥，就可以直接连接远程服务器。



## 5. ACL(Access Control List)

对于文件权限控制的一种方法。传统的文件权限模型（如linux使用的），对于一个文件，将权限分为拥有者，用户组和其他用户三类。分别设置权限。

在ACL中，允许更细粒度的权限控制，我可以对于某个文件，为某个用户或者某个组赋予特定的权限。这样就相当于将其他用户又更加细粒度的分开。

例子：张三的一个文件，可以设置允许赵四看，但是不允许任何其他人看，张三与赵四并不必须在同一个组中。

在linux中，使用chown命令，可以修改某个文件所属的组和用户。



## 6. APT(advanced persistent threat)

高持续性威胁。

APT攻击是一种高度复杂的有组织的攻击，是针对特定目标的长期持续的网络攻击，旨在获取敏感信息、窃取知识产权、进行间谍活动或破坏目标系统。

通常由高度专业的黑客组织、国家级攻击者或者间谍机构发起。

APT攻击的特点：

- 持久性
- 高级性：使用高度复杂和隐蔽的技术手段。
- 目标性
- 隐蔽性
- 整体性

Equation Group：Equation Group是一个被公认为与美国国家安全局（NSA）有关的APT组织。该组织被发现使用先进的恶意软件和攻击工具，针对全球范围内的政府机构、军事机构、大型企业和个人进行攻击。它被认为是最复杂和具有技术水平最高的APT组织之一。

Stuxnet：Stuxnet是一个被发现的复杂的计算机蠕虫，最初在2010年被揭露。它被认为是针对伊朗核设施的攻击，旨在破坏其离心机组件。Stuxnet利用了多个漏洞和技术，包括零日漏洞，以远程控制系统（SCADA）进行渗透，具有高度的定向性和专业性。



## 7. autoexec

autoexec.bat 是dos时代的三大系统文件之一，可以用来配置启动信息。

dos系统会在启动时运行此文件。



## 8. backup operators

域备份员，负责执行和管理域控制器的备份和还原操作。例如bitlocker加密时，会对key使用备份员的公钥加密一次，然后发送给备份员，这样当员工的密钥丢失时，还可以由备份员打开。备份员拥有非常高的级别，可以打开任何的备份文件。只能备份和回复，不能修改和删除。

域备份员的权限非常敏感，应该仅授予可信任的人员，并且需要遵守一定的安全策略。

## 9. bitlocker

bitlocker是windows系统提供的数据加密技术，可以对磁盘上的数据进行加密，可以对整个磁盘驱动器进行加密，加密之后只有通过身份验证的用户才能访问和解密存储在硬盘上的数据。windows中只有在专业版中才可以使用。

bitlocker使用AES进行对称加密，当然也可以使用混合加密，对于密钥使用公私钥对再进行加密。

bitlocker使用对称加密和密钥保护来实现数据加密和解密。密钥保护的方法包括：

- 使用TPM芯片
- PIN码
- USB设备
- 通过网络进行身份验证

## 10. botnet

僵尸网络。是被恶意软件感染的大量计算机形成的网络，可以被远程控制执行攻击活动。

例如：

- 分布式拒绝服务攻击（DDoS攻击）
- 垃圾邮件发送
- 网络钓鱼：模拟合法网站和服务，骗取用户敏感信息
- 数据窃取
- 黑客攻击



著名事件

Code Red（红色代码）：Code Red是2001年发生的一次大规模的网络蠕虫攻击事件。该蠕虫利用了Microsoft IIS服务器的漏洞，感染了大量受影响的服务器，并形成了一个庞大的僵尸网络。Code Red蠕虫导致了Internet上数十万台服务器的瘫痪，并对网络流量和性能造成了重大影响。

## 11. CGI

通用网关接口（common gateway interface）。用于在web**服务器**和**应用程序**之间交互的标准协议。

为什么会有服务器和应用程序的区别？早起的web服务器只能返回静态资源，不能动态的生成html。所以需要调用外部的应用程序来进行适当的响应，而服务器与这些应用程序之间的交互，就需要商讨一个合适的接口，就是CGI。CGI规定了一些参数，双方根据这些参数进行沟通。

当用户访问一个CGI网页时，web服务器会接收到http请求，然后根据请求中的参数决定要执行的CGI脚本或程序，然后服务器将请求的参数传递给CGI程序，程序处理完成之后返回给服务器。然后服务器发回给用户浏览器。展示给用户。

## 12. CIH病毒

CIH病毒主要感染可执行文件，当文件被感染后，会在特定的日期激活，每年的4月26日或者每月26日。

他使用了windows95/98的VxD技术，直接侵入底层，可以破坏硬盘和主板上的BIOS。

执行的恶意操作包括：

- 文件破坏：尝试覆盖硬盘驱动器的主引导记录（MBR）
- BIOS破坏：尝试擦除BIOS芯片中的数据
- 数据破坏：破坏计算机上存储的数据文件。

## 13. clamav

clamav是一个开源的跨平台防病毒套件，用于检测恶意软件和病毒，专门设计用于在Linux，Unix和windows上提供实时的恶意软件扫描和防护。使用基于病毒特征的扫描引擎，通过比对文件内容和特定的病毒定义数据库来检测潜在的威胁。

核心是通过共享库的形式提供反病毒引擎。比对病毒特征。

还支持对于压缩文件的解压和扫描。广泛应用于服务器环境中，特别是电子邮件服务器、文件共享服务器和web服务器。

## 14. CryptoAPI

微软提供的windows操作系统中的一组加密功能和接口，用于开发安全的应用程序，开发人员可以用它来实现数据的保护、加密和解密操作。

使用时，先引入他的头文件，wincryprt.h，然后链接上链接库advapi32.lib

使用的时候先初始化一个CSP（加密服务提供者）上下文，然后可以用返回的句柄进行各种操作。

cryptgenkey  ----- 生成密钥

cryptimportKey --------- 打开密钥

cryptEncrypt ----------- 加密操作

cryptDecrypt ----------- 解密操作

提供了

- 对称加密：如AES、DES
- 非对称加密：RSA、DSA等
- 哈希函数：MD5、SHA-1、SHA-256等
- 数字签名：使用私钥对数据进行签名，验证数据的完整性
- 随机数生成：生成高质量的随机数。

安全性上可以认为**SM2=AES128=ECC256=RSA3072**

ECC256要快于RSA

## 15.CTF

夺旗赛。

网络安全人员之间进行竞技的一种比赛。

有解题模式和攻防模式。

解题模式与ACM类似，根据解决网络安全技术挑战题目的分值和时间来排名。

攻防模式是参赛队伍之间互相进行攻击和防守，挖掘网络服务漏洞并攻击对手服务来得分，修补自身的服务漏洞来进行防御避免丢分。



## 16. darknet

暗网是公众无法直接访问和搜索的网络的一部分。是在公开的互联网之外的未经索引的难以追踪的网络空间。

暗网中的网站、服务和内容被隐藏，需要使用特殊的匿名网络技术，如tor网络，保护用户的身份和数据的隐私性。

暗网经常进行非法活动和犯罪活动，存在着非法市场。

暗网中的网站以.onion结尾。



## 17. DDOS

DDoS攻击通过大量的请求来对目标系统造成极大的压力，使其无法提供正常的服务。攻击者通常控制一个僵尸网络对一个目标服务器发起请求，使其过载无法响应正常的请求。



防止ddos攻击，可以使用流量检测，过滤掉异常流量。

使用分布式系统，将攻击的压力分散到多台服务器上。

使用cdn服务，比如cloudflare就是提供免费的cdn分发服务，此外所有在github仓库中的资源，jsdelivr都会自动的为其发布到其cdn服务器上，可惜的是大陆并没有jsdelivr的节点，访问较慢。这种方法适用于静态资源。使用cdn会将访问流量分散到全球各地的节点上，人们优先访问距离最近的节点。



攻击方式包括

- 带宽攻击：攻击者发送大量的数据流，占用带宽资源
- 连接攻击：攻击者建立大量的连接到目标系统，耗尽其资源。
- 应用层攻击：针对应用层服务进行攻击，例如发送大量请求和恶意数据
- 分布式反射放大攻击：攻击者将请求伪装成目标系统的请求发送给其他的服务器，使得目标系统被响应淹没。

## 18. dmesg

dmesg是一个linux命令，用于显示和检查unix系统内核缓冲区中的消息。它显示了系统启动和运行期间发生的事件和错误信息。通常用于调试和故障排除。

常见的选项

- -T 显示时间戳
- -l   [-err -warn]过滤日志级别





## 19. DNS over HTTPS

通过加密的https连接进行域名解析。

传统的DNS查询通过明文的UDP或者TCP进行查询。这导致查询的内容和目标域名容易受到监视篡改和劫持。著名的DNS劫持是我国的长城防火墙，防火墙一开始使用ip封锁。后来为了应对网站频繁更换IP的行为，就针对特定域名进行DNS劫持，可以检测http中的特定关键字进行TCP重定向。在DNS over https出现之后，防火墙很长一段时间没有进行应对，直到https中出现SNI之后，才重新对https请求进行检测。

DoH是指客户端把DNS查询封装在https请求中，发送到DoH服务器，然后接收加密的响应并解析域名。

优点：

- 隐私保护
- 安全性
- 绕过网络过滤

## 20. DNSSEC

DNSSEC（Domain Name System Security Extensions）

传统的DNS协议没有提供机制来验证DNS查询结果的真实性，可能导致DNS污染和DNS劫持。

DNSSEC通过公私钥加密技术和数字签名来解决这种问题。确保查询到的DNS的真实性和完整性。DNS服务器返回IP的时候进行签名，然后客户端可以通过验证签名检查真伪。



工作原理

- 数字签名：每个DNS记录都被使用私钥进行数字签名，可以用来验证记录的真实性和完整性
- 链式信任：根域下的顶级域名使用私钥签名，然后把公钥发布到DNS上，然后二级域名使用顶级域名的公钥验证其真实性并把自己的公钥发送到下一级域名，形成一个信任链。
- 验证过程：当客户端发起DNS查询时，服务器返回的DNS记录附带数字签名，客户端使用相应域名的公钥验证其有效性。



## 21. docker

docker是一种开源的容器化平台，它可以用来构建部署和运行应用程序，它提供了一种轻量级的虚拟化技术，开发人员可以把程序和依赖打包成容器。

主要优点是，可以快速构建需要的环境，当运行程序把环境搞崩时，可以通过镜像来恢复过往的环境。同时可以通过分享docker镜像，使得开发组内部使用相同的稳定的运行环境。

docker非常轻量级，可以直接打包部署非常方便。

简单的启动一个docker：可以使用docker pull A，从docker仓库拉去一个A镜像，然后使用docker run -it A可以运行一个此镜像的容器，docker ps列出当前运行的容器。使用docker exec -it A bash可以进入A容器并运行bash。如果想保持容器运行，并退出容器，按住ctrl + alt + P即可。docker build可以制作镜像。



- docker引擎：负责构建和运行容器的核心组件。包含一个守护进程，用来管理容器的生命周期、镜像的构建和运行。提供与docker客户端进行通信的API
- docker镜像：是容器的模板，包含了运行容器需要的所有文件和设置。
- docker容器：根据一个镜像创建的运行实例。
- docker仓库：用于存储和共享docker镜像的中央仓库。

使用docker，开发人员可以快速构建、测试和部署应用程序，而无需担心环境差异、依赖问题和系统冲突。

## 22. EFS

windows提供的文件加密服务，可以对系统中的特定文件进行加密，这种加密对于拥有者是透明的，拥有者可以直接访问此文件。使用混合加密，使用对称密钥进行加密后，使用用户的公钥对对称密钥进行加密。之后拥有者访问这个文件时，可以直接访问，其他用户没有密钥，不能直接访问。

使用混合加密是因为对称加密要比非对称加密快。

## 23. GDPR

General Data Protection Regulation 欧盟颁布的一项数据保护和隐私法规，旨在保护个人数据的隐私和安全，并增强对这些数据的控制权。不止适用于欧盟内的组织和企业，也适用于欧盟居民建立业务或者处理个人数据的非欧盟组织。

主要目标是：

- 个人数据保护
- 数据主体权力
- 数据处理者责任
- 跨境数据传输

## 24. getenforce

用于查询SELinux执行模式的命令。

SELinux（Security-Enhanced Linux）是一种在Linux系统上实施强制访问控制的安全机制。它提供了对系统资源的细粒度访问控制。增强了系统的安全性。他对每个进程的访问权限都进行了控制。访问资源时，首先需要满足linux默认的rwx要求，然后还要使用满足权限的进程。

getenforce可能返回的结果

- 强制执行：表面所有违反安全策略的操作都会被禁止
- 宽容模式：违反安全策略的操作被允许，但是会生成日志记录
- 禁用：禁用SELinux，不会执行安全策略。

## 25. GnuPG

GNU privacy Guard 是一个由GNU项目开发的免费、开源的加密套件，用于实现数据加密和数字签名，是openPGP的一个实现。，旨在提供一种安全可靠的加密和数字签名方案，用于保护数据的机密性和完整性。

GnuPG是OpenPGP标准的一个开源实现。openPGP是一种广泛使用的加密和签名协议，用于保护电子邮件、文件和通信内容的隐私。	



## 26. hashcash

用于抵抗垃圾邮件和DDos攻击的计算工具。当发送邮件或者请求的时候，需要执行一个计算密集的任务来生成一个工作证明（hash值），服务器可以检查这个工作证明，看请求者是否完成了计算任务，如果验证成功才响应。

当攻击者发起DDoS攻击时，就会浪费攻击者的大量计算资源。这种方法是基于工作量证明的。这种思路后来也被用于比特币。

## 27. heartbleed

HeartBleed是一个严重的安全漏洞。存在于openssl中。他是由于openssl实现中存在缓冲区溢出错误导致的。攻击者可以通过向服务器发送大量的心跳包来获取到目标服务器内存中的数据。这些内存中的数据可能包括私钥、用户名、密码等加密数据。

攻击者发送的心跳包中，首先构造一个实际长度比给出的有效载荷更长的心跳包，这会导致服务器的内存溢出。然后发送一个请求载荷比实际长度长的心跳包，由于服务器内存溢出，就会发回一个包含了内存信息的响应。这里面可能包含了隐私数据。

## 28. icap

ICAP互联网内容适配协议，是一种用于在网络上进行内容适配和处理的协议，他允许网络中的设备与ICAP服务器通信，对网络传输的内容进行分析、修改和过滤。

请求端可以是防火墙、代理服务器等。请求端把请求和内容发给ICAP服务器，ICAP服务器对内容进行检查后把要执行的指令返回给客户端，客户端对内容进行处理过滤。

## 29. ida pro

强大的逆向工程工具。用于静态分析和反汇编二进制文件。使用户可以深入分析和理解二进制文件的内部结构、代码逻辑和算法。

特点：

- 反汇编和静态分析：可以将二进制文件转换为可读的汇编代码
- 反编译：可以将汇编语言转换为高级语言
- 动态调试：用户可以进行动态调试和执行代码
- 插件和脚本
- 可视化和交互式界面

## 30.IETF

Internet Engineering Task Force 互联网工程任务组。

开放的国际组织，致力于制定和推动互联网标准的发展，是互联网标准化的核心机构之一。

IETF制定了TCP/IP,HTTP,SMTP,TLS,IPsec,SNMP等协议标准。

## 31. iptables

iptables是linux系统中常用的防火墙工具，允许管理员配置和管理网络流量的过滤、转发和网络地址转换。

常用命令

iptables -L 查看当前规则

iptables -A <chain> <rule>给chain（input、output、forward）的流量添加规则

iptables -D 删除规则

iptables -P 修改规则

特点和功能

- 数据包过滤
- 网络地址转换：可以修改数据包的源IP地址和目标地址
- 状态跟踪
- 灵活性和可扩展性：iptables提供了广泛的选项和参数，使管理员能够根据具体需求定制和配置防火墙规则。



## 32. ISO 7498

ISO7498是ISO发布的一个标准，其中描述了开放系统互联安全的体系结构，其中定义了OSI模型，OSI模型是一个抽象的网络体系结构模型，用于描述不同网络协议的功能和关系。提出涉及安全的信息系统的基础架构中应该包含5种安全服务、8类安全机制。

OSI七层模型：

- 物理层
- 数据链路层
- 网络层
- 传输层
- 会话层
- 表示层
- 应用层

## 33. JCE

JCE是java加密扩展。是java平台提供的一个安全性扩展库，用于支持各种加密、密钥生成、密钥管理、数字管理里等密码学功能。

## 34. Kerberos

Kerberos是一个网络身份认证协议。用于在计算机网络中实现

安全的身份验证和授权。它提供了一种安全的方式，使用户在不可信任的网络环境中进行身份验证，以及在网络上安全的交换数据。

基于对称加密算法，使用密钥分发中心和票据来实现身份验证和授权。

kerberos广泛应用于企业和组织的计算机网络中，特别是在分布式系统和单点登录场景中，它提供了一种安全高效的身份验证和授权机制，保护网络中的敏感数据和资源。

首先向KDC（密钥分发中心）申请一个密钥，KDC（AS）返回一个TGT，其中包含了一个密钥，然后需要访问服务的时候，就生成一个票据请求，使用之前从KDC（AS）获取的密钥进行加密，然后KDC（TGS）返回一个服务票据。用户和KDC之间的通信是对称加密的，使用的密钥就是KDC提供给用户的密钥。KDC和服务端共享密钥。

![image-20240115215847179](https://s2.loli.net/2024/01/15/sZY5hQdn7BCbSxN.png)

## 35. keytool

keytool是java平台提供的一个命令行工具，用于管理和操作java密钥库。java密钥库（keystore）是一种文件格式，用于存储密钥对、证书和信任链等安全凭证。

keytool工具提供了一系列命令，用于生成、导入、导出和管理密钥库中的密钥和证书。他是一个管理密钥和证书的实用工具。

## 36. linux kernel

linux kernel是linux操作系统的核心组件，他是一个开源的免费OS内核。Linux内核负责管理计算机硬件资源，提供了系统调用接口供用户空间程序使用。是linux操作系统的基础。

Linux内核是由全球范围内的开发者共同开发和维护的，开发者可以通过向Linux社区贡献代码、修复错误或改进功能来参与内核开发。Linux内核遵循开放源代码的原则，源代码可以被任何人免费获取，修改和分发。

linux内核社区是全球最大的git开源社区。

linux内核支持多种硬件架构。

## 37. ollvm

ollvm是基于LLVM编译器框架的一个**开源混淆器**，他可以对源代码进行混淆和变换，增加二进制程序的复杂性和抵抗逆向工程分析。被混淆之后的二进制代码难以被分析。

## 38. ollydbg

是一个windows平台上的调试器，可以用于反汇编和调试二进制程序，他是一个非常流行和功能强大的调试工具，被广泛用于逆向工程、恶意代码分析、漏洞研究和软件开发等领域。将IDA与SoftICE集合起来，包括强大的反汇编引擎，动态调试能力、多种脚本语言。

ollydbg的特点：

- 反汇编和调试
- 动态分析：可以在程序运行时观察和修改程序。
- 插件支持
- 逆向工程功能
- 脚本支持

## 39.PAM

PAM（Pluggable authentication modules）是一个用于身份验证的系统框架，广泛应用于Linux和其他Unix操作系统。PAM允许系统管理员通过可插拔的模块来定义和配置用户身份验证。PAM将用户的身份认证划分为多个模块，每个模块执行一定的功能，系统根据前面模块的验证结果决定是否继续执行后面的模块，因此管理员可以灵活的配置PAM模块来实现身份验证。

PAM的设计目标是提供一个灵活、可扩展和安全的身份验证体系结构，使系统管理员能够根据特定需求选择和配置不同的身份验证方法。

## 40.PE/MZ

MZ是windows早期使用的可执行文件格式。PE是windowsNT之后使用的格式。PE的兼容性和扩展性更好，可移植和模块化。MZ主要用于MS-DOS系统，不支持动态链接库的使用和多线程编程等高级属性。

## 41. pgp

联系GnuPG。PGP（pretty good privacy）。是一种加密和签名技术，用于保护电子邮件和文件的机密性、完整性和身份验证。每个公钥均绑定唯一的用户名和/或者E-mail地址。当前的PGP加密版本通过一个自动密钥管理服务器来进行密钥的可靠存放。

PGP使用混合加密，双方对话使用对称密钥，每个密钥只在一次会话中使用。通过非对称加密来确定对称密钥。

## 42. PKCS#11

是公钥加密标准PKCS的一份子。

密码令牌接口标准。由RSA实验室发布，为令牌定义了一组与平台无关的API。现在这个已经发展成为一个通用的加密令牌的抽象层。定义了最常用的加密对象类型（RSA、DES等）和所有需要使用的功能。

主要应用于智能卡和HSM。为使用token的设备提供了统一的接口，可以方便的更换设备

## 43. PKCS#5

基于口令的加密标准，利用口令派生出来的安全密钥加密字符串。也就是说对于口令passwd通过一定的函数（如md2、md5）方法，生成密钥，然后使用这个密钥进行字符串的加密。

## 44. PKI

PKI（Public Key Infrastructure）是指公钥基础设施。用于管理数字证书和密钥从而保证信息安全。PKI的核心是CA，用户可以向CA申请证书，向CA提交自己的公钥，并用私钥签名，CA进行身份验证，然后会用自己的私钥签名一份数字证书。用户拿到这个证书之后就可以分发并使用。

https中会用到数字证书。服务器拿到数字证书后保存在服务器上，当用户使用https连接服务器的时候，服务器会把自己的证书发给用户，之后浏览器使用此证书提供的公钥加密发送的消息。

## 45. PRISM棱镜计划

美国国家安全局的秘密计划，通过监控和收集互联网公司的用户数据来获取情报信息。NSA可以直接访问互联网公司的服务器而无需授权。

## 46. QQ群2012泄露库

2012泄露库是一个包含数千万条QQ群组数据的数据库。反映了数据保存不当，关键信息未经合适的加密和安全措施存储。存在很大的安全漏洞。

## 47. Ransomware

Ransomware是一种恶意软件，也就是勒索病毒，他的主要目的是对计算机上的文件进行加密，从而勒索赎金。

- 数据备份的重要性
- 比特币涉及的安全问题
- 操作系统安全漏洞。对于很多病毒操作系统不能很好的识别。

## 48. RAS

remote access service。远程访问服务。用户可以在网络外通过vpn、拨号等方式连接内部网络的资源。他提供了认证和安全性机制，确保了用户的身份是可信的。

## 49. ReadProcessMemory

windows提供的一个API，允许一个进程访问其他进程的内存。通常被游戏修改器、调试工具使用。使用这个函数需要一定的权限，滥用此函数会导致安全问题。

## 50. ret2libc

return to libc。libc是一个库函数，攻击者通过构造会导致内存溢出的数据，触发进程的内存溢出。然后在栈溢出的内存中，将原来的返回地址替换为libc库函数中某个函数的地址，这样程序就不会执行原来的代码，而是会跳转到libc中的恶意代码执行。

现代系统使用随机化地址布局和堆栈保护（堆栈溢出监测、堆栈随机化）等技术来组织ret2libc

## 51. Ring-3

intel CPU的特权级别分为4个，ring0~ring3。windows只是用ring0和ring3。ring0是操作系统的特权级别，拥有对硬件的完全访问权限。用户进程允许在ring3级别，不允许直接访问底层硬件。

## 52. Rootkit

rootkit是一种恶意软件，主要目的是在系统和程序中隐藏自己，通过修改核心组件使得自己不会被发现。然后隐藏恶意活动并长期潜伏。

## 53. sandbox

沙箱关注于应用程序的安全隔离，运行在沙箱中的程序无法对沙箱外的程序造成危害。沙箱为执行环境中的程序提供限制的资源。使得即使有一两个程序收到影响，也无法对于整个系统造成影响。

## 54. SELinux

Security-Enhanced Linux。是一种安全加强Linux，是由美国国家安全局NSA开发的。SE提供了更高级别的安全防护。他限制了每个进程可以访问的资源。传统linux使用的是DAC，自由访问控制系统，也就是使用rwx来判断用户是否具有访问权限。在SELinux中使用MAC也就是强制访问控制。

包括三种模式宽容模式，关闭，强制模式。

## 55. SGX

软件保护扩展。CPU层面提供的硬件安全防护。保护代码不被不信任的软件和攻击者篡改。在CPU中有一块enclave区域，只能被创建它的进程访问，无法被其他程序和操作系统访问，enclave中的数据无法被读取修改。

这一功能还被用于区块链中进行可信计算和智能合约的自动执行。

## 56. Shadowsocks

影梭，代理工具，基于socks5协议。通过将流量混淆之后转发到其他服务器上，然后用其他服务器作为跳板访问需要访问的网络，再将响应返回回来。2015年，作者放弃更新。与clash类似，clash作者于去年删库跑路。

## 57.SMIME

S/MIME（Secure/MultipurposeInternet Mail Extensions），即安全/多用途网际邮件扩充协议是一种专用于公钥加密和MIME数据签名的标准协议。S/MIME 基于非对称加密，以保护电子邮件免受不必要的访问。它还允许对电子邮件进行数字签名，以验证邮件的合法发件人，使其成为抵御许多网络钓鱼攻击的有效武器。

## 58. SSH -D

动态端口转发，通过SSH，将本地网络流量转发到远程服务器上，ssh会在本地启动一个socks客户端，然后监听本地的某个端口（1080），然后将本地流量加密转发到远程服务器，常用于代理工具，可以绕过审查。

## 59. SSH -L/-R

端口转发。-L是将本地端口转发到远程端口。-R是将远程端口转发到本地端口。建立的是安全的TCP连接。

## 60. sudo

允许普通用户执行超级用户的指令，通常只包含部分指令。需要先验证用户的密码。修改/etc/sudoers可以配置拥有sudo权限的用户。sudo指令会被记录到日志中。

## 61. SUID

在unix中可以给可执行文件设置suid权限位。这样在执行时，他会以拥有者的身份执行，而不是当前身份。使用chmod u+s可以添加suid权限。

## 62. Sysinternal

实用工具集。用于windows系统的系统管理和故障排除。可以监视系统活动、调试和分析应用程序、管理和维护操作系统等。他有很多工具，比如高级的任务管理器，启动项管理，监视进程活动和系统调用。

## 63.systemd

用于管理Linux系统启动过程和服务管理的系统和服务管理器。就是用来管理linux的各种服务的。比如我的服务器运行了mysql。我可以使用systemctl status mysql查看其运行状态。start启动，stop停止。它支持并行启动，提高了启动速度。是一种现代化的服务管理器。service是旧的服务管理器。

## 64.TCSEC

TCSEC，可信计算机评估准则，TCSEC标准对计算机系统的安全评估进行了分类，共分为七个等级，从最低到最高分别为D、C1、C2、B1、B2、B3、A1。每个等级对应一组安全保障要求和评估标准，反映了系统的安全性能、系统运行环境的可信度和可靠性、用户访问控制和管理员权限等重要特征。

## 65. tor

Tor（The Onion Router）：Tor 是一个免费且开源的软件，可以保护用户身份的隐私和网络数据安全。它利用多个节点进行分层加密，并通过不停地改变 IP 地址从而使得用户的身份信息难以被跟踪。经常被用来访问暗网。采用分布式架构，将流量随机路由。

## 66. TPM

TPM (受信任的平台模块) 是一种具备安全硬件功能的芯片，用于提供计算机系统的安全性和可信任性。TPM 能够存储和处理加密密钥、验证系统的集成性和完整性，以及提供硬件级别的安全功能。通常集成在主板或者处理器上。



## 67.Trapdoor（不考，后门程序）



## 68. Truecrypt

开源的加密软件，不需要生成任何文件即可在硬盘上建立虚拟磁盘，用户可以按照盘符进行访问，所有虚拟磁盘上的文件都被自动加密，需要通过密码来进行访问。支持多种加密算法。可以隐藏加密过的数据和磁盘。

## 69. TrustZone

由ARM公司提供 的硬件安全技术。它可以将处理器和内存划分为两个安全层级，分别为受保护的安全域和不受保护的普通域。

当 TrustZone 开始工作时，会启动两个完全独立的模式，分别是安全模式和普通模式。只有在安全模式下运行的应用程序才可以获得密钥和其他敏感数据，保证数据安全。

## 70. TSA

时间戳授权服务(Time Stamp Authority)

时间戳授权服务（TSA）是一种提供时间戳的可信第三方机构或服务。它的主要功能是为电子文档或数字签名提供时间戳，以证明文档或签名的存在和有效性。用于证明在某个特定的时间点，文档或签名是存在且未被篡改的。

## 71. UAC

UAC（User Account Control）用户账户控制。

UAC的目标是提高用户账户的安全性，限制恶意软件和未经授权的系统更改对计算机的影响。

UAC的主要功能是通过提示和访问权限控制，确保用户在执行敏感操作或更改系统设置时能够做出知情的决策。当某个程序或操作需要管理员权限时，UAC会弹出一个用户提示框，要求用户确认或提供管理员凭据。

## 72. umask

用于设置默认的文件权限掩码。文件权限掩码决定了新创建的文件或目录的默认权限。

umask命令的作用是设置当前进程的umask值，该值是一个八进制数，用于屏蔽文件权限中的某些位。umask值中的每一位代表一种权限（读、写、执行），当对应位设置为1时，表示该权限被屏蔽。因此，umask值越小，允许的权限越大。

umask命令可以显示当前umask的值。

## 73. VBScript

VBScript是一种微软环境下的轻量级的解释型语言。用于在html中插入动态脚本。网页上常用vbscript和javascript。

语言特点：1)简单易学。2)解释性语言。3)集成成熟技术。

## 74. WannaCry

WannaCry是一种“蠕虫式”的勒索病毒软件，于2017年5月爆发的全球性网络攻击引起了广泛关注。WannaCry的攻击方法主要通过利用Windows操作系统中的漏洞，传播并感染与Internet连接的计算机。一旦感染，该恶意软件会加密计算机上的文件，并生成随机文件名和解密密钥。随后，受害者被要求支付比特币作为赎金，以获取解密文件所需的密钥。

## 75. Wannakey

Wannakey是一种反勒索软件工具，用于解密被WannaCry勒索软件加密的文件。

Wannakey通过对WannaCry勒索软件加密过程中的计算机内存进行分析，通过执行复杂的算法，找到了丢失的**RSA密钥**。这个RSA密钥是WannaCry勒索软件用于加密文件的关键因素，Wannakey利用这个密钥对被加密的文件进行解密。

## 76. whoosh

Whoosh是一个用于Python编程语言的全文搜索引擎库，它提供了一套功能丰富且灵活的工具，用于构建和管理全文索引，并实现高效的文本搜索和检索操作。

## 77. Wireguard

WireGuard是一个现代的开源VPN（Virtual Private Network）协议，旨在提供简单、安全、高效的网络连接。相比传统的VPN协议，如OpenVPN和IPsec，WireGuard具有更小的代码库、更简洁的设计和更出色的性能。

跨平台、简单易用、动态路由。

## 78. WriteProcessMemory

联系签名的ReadProcessMemory。windows提供的一个API，允许一个进程对另一个进程执行写入操作。可以修改游戏，修改软件、与另一个进程的内存交互。

## 79. XKMS

XKMS实在XML加密和XML签名标准上开发的。

XKMS包括两个主要的功能：密钥查询和证书颁发。密钥查询允许客户端查询由服务提供商维护的密钥。证书颁发允许客户端向服务提供商申请和颁发数字证书。XKMS标准还支持密钥回收和撤销等功能，提供了一个全面的密钥管理和证书颁发解决方案。

## 80. 等保2.0

等保2.0标准将信息系统安全分为5个等级，从等级1到等级5，等级1为最低级别，等级5为最高级别。不同的等级对应不同的安全要求和控制措施，以适应不同类型的关键信息基础设施。

等保2.0标准作为中国国内的信息安全标准，对于涉及重要信息系统的组织和企业具有强制性要求。它的发布和实施，旨在提高国内信息系统的安全水平，保护国家的信息安全和网络安全。
  
# 大题相关
  
仅适用于2023年，具体要根据当年lfb给出的资料来看
  
## 一、操作系统安全

> ​    登录和认证 //of AAA
> ​    访问控制方法
> ​    存储加密

### 1 AAA

无线网是需要登陆的。用户需要上网的时候，询问AAA能否上网。AAA分别是：你是谁？你有什么权限？记账？

发生的时间是从半径到直径？



### 3 存储加密

使用自己的公钥加密，读的时候用自己的私钥解开

交换的思想：用对方的公钥加密，把密文发给对方。

存储加密和交换的思想是统一的。



Truecrypt：实验3第6节。veracrypt。都是混合密码体制





## 二、网络端系统

> 网络操作系统
> 网络登录方法 vs. 本地登录方法
>
> lfb：好多思路和方法可以自己再补充一下？？？
>
> 网站系统(web)
> （考）从泄露案频发思考：靠谱，够全面，够流利给分

### 1 本地登录

本地登录的核心：etc/passwd 改成了etc/shadow。有个函数叫crypt的，里面早期使用的是DES，后面改成了MD5和blowfish

这是从linux的角度看的。

### 2 网络登录

主要有两个流派。

#### 2.1 基于MD5

指基于MD5的HTTP摘要访问认证（Digest Access Authentication），它是一种用于HTTP协议的身份验证方案，由RFC 2617规范定义。它是对HTTP基本访问认证（Basic Access Authentication）的改进，因为它不需要在网络上明文传输用户名和密码，而是使用MD5算法对它们进行加密。

#### 2.2 基于RSA加密体系的

公钥体系的代表算法是SSH。

掌握基本思想，不用纠结实现的细节。

SSL，PGP也是PKI这一套的

### 3 网站系统

作为一个大型网站管理员，如何防止信息泄露？

GTA 5 泄露案件  telegram（音）?

不用写太多，术语串一串

日常维护里有啥规则？例如ROOT权限需要请示，程序备份（啥地方都可以答这个）



## 三、网络传输

> ​    传输加密
> ​    网络漏洞

聚焦在**登录**这一点：ssl不考很具体

传输层：加密标准算法是ssl，以ssl为典型代表

网络层：vpn



第一步登录（网络、本地）

加密：传输层ssl，网络层vpn

混合体制：bitlocker也是，混合加密存储，先对称密钥加密，然后用公钥加秘密对称密钥

抽象为对称加密和非对称加密

密码学大概分为7大类：

注意力放在对称加密。









## 四、安全漏洞：分析和对抗

> ​    内存安全
> ​        bof
> ​        rust
> ​    手机端系统
> ​        //java安全
> ​        apk安全

### 1 内存安全

堆栈里面的变量溢出，密钥可以被绕过去。ppt看，必考。什么通过构造溢出，绕过密钥。



关注的是内存的溢出，很典型的是栈的溢出，栈的临时变量。可以说安全漏洞中一半以上是内存安全，内存安全一半以上是栈的溢出。

可以把堆栈中溢出的临时变量的场景描述一下，返回地址、参数啥的看一下，画个图？

参考PPT1-P107

**http://blog.csdn.net/better0332/article/details/5262990**

这是基础场景，内存安全还有更多的场景？

### 2 APK安全

讲过了。从apk一步步逆向回来看到java/c代码。正向如何去保护的思路。

### 3 rust

（lfb说没讲，可以自己去网上找，以考促学）

允许rust语言编写部分内核模块。

#### 4 手机的安全

基于Linux的，linux那一套安全体系

Java中的安全体系也包括在内。

以上两点都是默认的，主要还是apk的安全。

可以谈谈应用要求提供过量权限的问题？？







## 五、综合对抗

> 病毒
> 勒索
> 虚拟  VPN



（不考）勒索病毒安全问题：

- 使用混合加密体制
- 比特币
- 系统不安全



apk打包如何一步一步打包，如何对抗apk打包党。



## 六、其他

>    工具和用法
>         二进制分析工具:ollydbg, ida
>         openssh/openssl/openvpn
>         docker等
>     密码在安全中的应用
>         补课：对称加密，ECB、CBC

### 1 工具和用法

#### 1.1 二进制分析工具

依然是以考促学。课下自己看一看

pki的各种应用？

#### 1.2 openssh/openssl/openvpn 

ssh是我们都熟练使用的一种工具

ssl就是https里面的这个s

和brokes翻墙方式相比（这种方式只是提供了一个服务端口）

有好几种风格

openvpn是多了个ip地址，而brokes只是多了一个服务端口。翻墙时默认不是vpn模式，而是端口模式

openvpn现在过时了，现在是Wireguard

#### 1.3 docker

把所有东西放在一个OS里面，网站里面，为了安全的隔离，可以把不同的功能模块用docker分割。不仅是为了调试要求，也是安全的要求。安全问题局部化

![image-20240114215607444](https://s2.loli.net/2024/01/21/xyFgL7dEeVYpkBM.png)



### 2 对称加密

> lfb：第二步基本情况，内部的规律很复杂，不管，外部的规律就是能把明文隐式地转换为密文。外部的规律要看一下
>
> 用这三步建立概念，考试的时候在某个地方会用到

#### 2.1 异或建立概念

实践中常用的是明文和一个序列做异或，产生一个密文。密文再异或一次，就回去了。

安全性低怎么办？①把key重复很多次，再做异或  ②真的用一个序列作为key

#### 2.2 基本情况

第一代：DES

第二代：AES，中国的是SM4（严肃场合使用）

特点：对称分组加密。（看一下这几个密钥、分组都多长？）密钥128 bits是主流。

#### 2.3 批量加密数据的操作模式

![image-20240114202133477](https://s2.loli.net/2024/01/21/HYcGFEagZTU2M98.png)

##### 2.3.1 ECB

Electronic Codebook 电码本模式，是分组密码的一种最基本的工作模式。

DES等分组加密算法的一种应用方式。明文分组使用密钥加密，相互独立。优点是可以并行加密操作，缺点是相同的明文加密后密文相同，适合短明文加密。

基本思想是将明文按照固定的长度（通常是8字节）分成若干个分组，然后对每个分组使用相同的密钥进行加密或解密，得到相应的密文或明文分组。明文分组的加密互相独立。最重要的特征是一段消息中若有几个相同的明文组，那么密文也将出现几个相同的密文组。

**优点：**并行加密，随机存取。

**缺点：**

a)     需要填充padding 

b)     相同明文分组对应相同密文分组，暴露统计规律。

c)     不能抵抗密文的替换、篡改或乱序重排。因为每个分组都是独立的，没有任何关联性。

**应用：**适合于数据较少的情况，应用于单个数据的安全传输（比如一个加密密钥）。

##### 2.3.2 CBC

Cipher Block Chaining 密文分组链接模式

将明文分为若干段，与初始向量或上一段密文进行异或，再通过密钥加密。使用的密钥是相同的。这就相当于将所有的明文组链接起来了，加密算法的每次输入与本明文组没有固定的关系，因此，若有重复的明文组，加密后就看不出来了。并且，CBC模式如果最后的分组不是完整的分组，则需要填充至b位的满分组。解密时，每个密文分组分别进行解密，再与上一块密文异或就可以恢复成明文。

**优点：**避免明密对应，可用作认证。

**缺点：**

a)     不能并行加密、随机存取。

b)     等待缓冲区凑足8字节分组，否则需要做padding。

**应用：**典型应用于普通目的的面向分组的传输和认证。

![image-20240114202255319](https://s2.loli.net/2024/01/21/mhVvk8s5tUBdLW6.png)